# 16주차

import csv
import matplotlib.pyplot as plt

# --- 1. CSV 파일에서 '신도림' 지역 인구 데이터 추출 ---

# 'age.csv' 파일을 cp949 인코딩으로 열어 한글 깨짐을 방지합니다.
# f.close()를 자동으로 처리하기 위해 with 구문을 사용하는 것이 일반적이지만, 
# 원본 코드 스타일에 맞춰 open/close를 사용했습니다.
f = open('age.csv', encoding='cp949')
data = csv.reader(f)

# 데이터의 첫 번째 행(헤더)을 건너뛰고 'header' 변수에 저장합니다.
header = next(data)

# '신도림' 지역의 연령별 인구수를 저장할 리스트를 초기화합니다.
result = []

# 데이터 행을 순회하며 '신도림'이 포함된 행을 찾습니다.
for row in data:
    # 지역명이 들어있는 첫 번째 컬럼(row[0])에서 '신도림'을 찾습니다.
    if '신도림' in row[0]:
        # 연령별 인구수 데이터가 시작되는 네 번째 컬럼(인덱스 3)부터 끝까지 순회합니다.
        for population_str in row[3:]:
            # 문자열 인구 데이터를 정수(int)로 변환하여 result 리스트에 추가합니다.
            result.append(int(population_str))
        # 필요한 데이터를 모두 찾았으므로 루프를 중단하고 효율성을 높입니다.
        break 

# 파일 사용을 마쳤으므로 닫아줍니다.
f.close()

# --- 2. 데이터 시각화 (꺾은선 그래프) ---

# 추출된 인구 데이터를 사용하여 꺾은선 그래프를 생성합니다.
plt.plot(result)

# 그래프 제목과 축 레이블을 설정하여 데이터의 의미를 명확히 합니다.
plt.title('신도림 지역 연령별 인구 분포')
plt.xlabel('Age (연령)')
plt.ylabel('Population (인구 수)')

# 그래프의 가독성을 높이기 위해 격자(Grid)를 표시합니다.
plt.grid(True)

# 최종적으로 완성된 그래프를 화면에 출력합니다.
plt.show()
